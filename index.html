<html>
<head>
<script language="javascript" src="./lib/Box2D_v2.3.1_debug.js"></script>

<script language="javascript" src="./js/i18n.js"></script>
<script language="javascript" src="./translations/english.js"></script>
<script language="javascript" src="./translations/slovak.js"></script>

<script language="javascript" src="./js/tools.js"></script>
<script language="javascript" src="./js/input.js"></script>
<script language="javascript" src="./js/engine.js"></script>
<script language="javascript" src="./js/behavior.js"></script>
<script language="javascript" src="./js/ui.js"></script>

<script language="javascript" src="./js/basicshapes.js"></script>
<script language="javascript" src="./js/basicactions.js"></script>
<script language="javascript" src="./js/basicentityfilters.js"></script>
<script language="javascript" src="./js/basiclogic.js"></script>


<link rel="stylesheet" type="text/css" href="./css/styles.css">

<meta charset="utf-8" />

<title>Scen√°ria</title>

</head>
<body>
<script type="text/javascript">
	var _engine = new Engine(new Viewport(), new b2Vec2(0, 50));

	_engine.addEntity(new Rectangle(new b2Vec2(450, 100), new b2Vec2(8, 3)), DYNAMIC_BODY)
		.setCollisionGroup(1)
		.setLinearVelocity(new b2Vec2(50,-50));
	_engine.addEntity(new Circle(new b2Vec2(500, 50), 31), DYNAMIC_BODY)
		.setCollisionGroup(2)
		.setId("kruh")
	_engine.addEntity(new Rectangle(new b2Vec2(400, 400), new b2Vec2(200, 3)), KINEMATIC_BODY)
		.setId("platform")
		.addBehavior
		(
			new Behavior
			(
				new lButtonDown(new lNumber(37)),
				[
					new aLinearVelocity(new efById(new lString("platform")), new lNumber(-60), new lNumber(0)),
					new aSetColor(new efByCollisionGroup(new lNumber(0)), new lString("rgb(0, 102, 179)"))
				]
			)
		)
		.addBehavior
		(
			new Behavior
			(
				new lButtonDown(new lNumber(38)),
				new aLinearVelocity(new efById(new lString("platform")), new lNumber(0), new lNumber(-60))
			)
		)
		.addBehavior
		(
			new Behavior
			(
				new lButtonDown(new lNumber(39)),
				new aLinearVelocity(new efById(new lString("platform")), new lNumber(60), new lNumber(0))
			)
		)
		.addBehavior
		(
			new Behavior
			(
				new lButtonDown(new lNumber(40)),
				new aLinearVelocity(new efById(new lString("platform")), new lNumber(0), new lNumber(60))
			)
		)
		.addBehavior
		(
			new Behavior
			(
				new lAnd(new lNot(new lButtonDown(new lNumber(37))),
				new lAnd(new lNot(new lButtonDown(new lNumber(38))),
				new lAnd(new lNot(new lButtonDown(new lNumber(39))),
				         new lNot(new lButtonDown(new lNumber(40)))))),

				new aLinearVelocity(new efById(new lString("platform")), new lNumber(0), new lNumber(0))
			)
		)

	_engine.addEntity(new Rectangle(new b2Vec2(400, 100), new b2Vec2(20, 30)), DYNAMIC_BODY)
		.setCollisionGroup(3)


	UI.initialize();

	window.requestAnimationFrame(function(){_engine.step()});
</script>
</body>
</html>
